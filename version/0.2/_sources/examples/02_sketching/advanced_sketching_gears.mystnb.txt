---
jupytext:
  text_representation:
    extension: .mystnb
    format_name: myst
    format_version: 0.13
    jupytext_version: 1.14.1
kernelspec:
  display_name: Python 3 (ipykernel)
  language: python
  name: python3
---

# Sketching: parametric sketching for gears

This example describes how to use gear sketching shapes from PyGeometry.

+++

## Perform required imports and pre-sketching operations

Start by performing required imports and instantiating the ``Modeler`` and basic elements that define a ``Sketch``.

```{code-cell} ipython3
from pint import Quantity

from ansys.geometry.core import Modeler
from ansys.geometry.core.math import Plane, Point2D, Point3D
from ansys.geometry.core.misc import UNITS, Distance
from ansys.geometry.core.sketch import Sketch
from ansys.geometry.core.plotting import Plotter

# Start a modeler session
modeler = Modeler()

# Define the origin point of the plane
origin = Point3D([1, 1, 1])

# Create a plane containing the previous point with desired fundamental directions
plane = Plane(
    origin, direction_x=[1, 0, 0], direction_y=[0, -1, 1]
)

```

## Sketching a dummy gear

``DummyGear`` sketches are simple gears that have straight teeth, and do not ensure
actual physical functionality. However, they might be useful for some simple playground tests.

```{code-cell} ipython3
# Instantiate a new sketch object from previous plane
sketch = Sketch(plane)

# Let's define a dummy gear
#
origin = Point2D([0, 1], unit=UNITS.meter)
outer_radius = Distance(4, unit=UNITS.meter)
inner_radius = Distance(3.8, unit=UNITS.meter)
n_teeth = 30
sketch.dummy_gear(origin, outer_radius, inner_radius, n_teeth)

# Let's plot it!
sketch.plot()
```

Once the sketching has taken place, let's extrude it!

```{code-cell} ipython3

# Create a new design
design = modeler.create_design("AdvancedFeatures_DummyGear")

# Extrude your sketch
dummy_gear = design.extrude_sketch("DummyGear", sketch, Distance(1000, UNITS.mm))

# Let's see how it looks like
design.plot()
```

## Sketching a spur gear

``SpurGear`` sketches are parametric CAD spur gears based on four parameters:

* **Origin**: the center point location for the desired spur gear. It requires this
  entry to be a ``Point2D`` object.
* **Module**: the ratio between the pitch circle diameter in millimeters and the
  number of teeth. It is a typical parameter for spur gears. This entry should be
  either an int or a float.
* **Pressure angle**: the pressure angle expected for the teeth of the spur gear.
  As previously, this is also a common parameter of spur gears. It requires this entry
  to be a ``pint.Quantity`` object.
* **Number of teeth**: this is self-explanatory. This entry is required to be an int object.

```{code-cell} ipython3
# Instantiate a new sketch object from previous plane
sketch = Sketch(plane)

# Let's define a spur gear
#
origin = Point2D([0, 1], unit=UNITS.meter)
module = 40
pressure_angle = Quantity(20, UNITS.deg)
n_teeth = 22

# Sketching spur gear
sketch.spur_gear(origin, module, pressure_angle, n_teeth)

# Let's plot it!
sketch.plot()
```

Once the sketching has taken place, let's extrude it!

```{code-cell} ipython3

# Create a new design
design = modeler.create_design("AdvancedFeatures_SpurGear")

# Extrude your sketch
dummy_gear = design.extrude_sketch("SpurGear", sketch, Distance(200, UNITS.mm))

# Let's see how it looks like
design.plot()
```